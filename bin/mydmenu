#!/usr/bin/env bash

set -euo pipefail


usage() {
    echo "Usage: $(basename "$0") yeganesh-profile [dmenu-options]" >&2
}

yeganesh_profile=$1
shift

screen_geometry="$(wmctrl -d | awk '/^...\*/ { print $4 }')"
width="$((${screen_geometry%x*} - 450))"

exec yeganesh -f -p "$yeganesh_profile" -- \
    -i -f -h 28 -x 60 -w "$width" "$@"
